5 5
0 1 1
1 2 0
2 3 0
3 0 1
2 4 1

answer: yes

4 4
0 1 1
1 2 0
2 3 0
3 0 1

answer: no (cycle)

7 6
5 0 0
5 1 0
5 2 0
5 3 1
5 4 1
5 6 1

answer: yes (already a spanning tree)

7 7
0 5 1
0 3 1
1 5 0
5 2 1
2 4 0
3 4 0
3 6 0

answer: yes

5 6
0 0 0
0 1 1
0 2 0
0 3 1
0 4 1
1 1 0

answer: no

3 3
0 1 0
0 2 1
1 2 0

answer: yes